<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulador e Projeção de NPS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Incluindo as bibliotecas React, ReactDOM, prop-types, Recharts e Babel para transpilar o código JSX -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/prop-types@15.8.1/prop-types.js"></script>
  <script crossorigin src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* Estilo para a fonte "Inter" */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;
    const { createRoot } = ReactDOM;
    const {
      LineChart,
      Line,
      XAxis,
      YAxis,
      CartesianGrid,
      Tooltip,
      Legend,
      ResponsiveContainer
    } = Recharts;

    // Componentes recriados do shadcn para evitar erros de importação e manter o estilo
    const Card = ({ children, className }) => (
      <div className={`rounded-xl border bg-white text-card-foreground shadow-lg transition-all duration-300 hover:shadow-2xl ${className}`}>
        {children}
      </div>
    );

    const CardHeader = ({ children, className }) => (
      <div className={`flex flex-col space-y-1.5 p-6 ${className}`}>
        {children}
      </div>
    );

    const CardTitle = ({ children, className }) => (
      <h3 className={`font-bold tracking-tight text-3xl ${className}`}>
        {children}
      </h3>
    );

    const CardDescription = ({ children, className }) => (
      <p className={`text-base text-gray-600 ${className}`}>
        {children}
      </p>
    );

    const CardContent = ({ children, className }) => (
      <div className={`p-6 pt-0 ${className}`}>
        {children}
      </div>
    );

    const Button = ({ children, className, onClick, ...props }) => (
      <button
        className={`inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-11 px-6 py-3 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 active:translate-y-0.5 ${className}`}
        onClick={onClick}
        {...props}
      >
        {children}
      </button>
    );

    const Input = ({ className, type, value, onChange, disabled, ...props }) => (
      <input
        type={type}
        value={value}
        onChange={onChange}
        disabled={disabled}
        className={`flex h-11 w-full rounded-lg border border-gray-300 bg-white px-4 py-2 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-500 ${className}`}
        {...props}
      />
    );

    const Label = ({ children, className, htmlFor }) => (
      <label
        htmlFor={htmlFor}
        className={`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${className}`}
      >
        {children}
      </label>
    );

    const Tabs = ({ children, defaultValue }) => {
      const [activeTab, setActiveTab] = useState(defaultValue);
      return (
        <div className="flex flex-col">
          {React.Children.map(children, child =>
            React.cloneElement(child, { activeTab, setActiveTab })
          )}
        </div>
      );
    };

    const TabsList = ({ children, className, activeTab, setActiveTab }) => (
      <div className={`inline-flex h-11 items-center justify-center rounded-xl bg-gray-200 p-1 text-gray-600 shadow-inner ${className}`}>
        {React.Children.map(children, child =>
          React.cloneElement(child, { activeTab, setActiveTab })
        )}
      </div>
    );

    const TabsTrigger = ({ children, value, className, activeTab, setActiveTab }) => (
      <button
        className={`inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ${
          activeTab === value ? 'bg-white text-gray-900 shadow-md transform scale-105' : 'hover:bg-gray-300'
        } ${className}`}
        onClick={() => setActiveTab(value)}
      >
        {children}
      </button>
    );

    const TabsContent = ({ children, value, className, activeTab }) => (
      <div className={`mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${
        activeTab === value ? '' : 'hidden'
      } ${className}`}>
        {children}
      </div>
    );

    const App = () => {
      const initialCombinedData = [
        { month: 'Jan', prom: 990, neutr: 26, detra: 13, status: 'Fechado' },
        { month: 'Fev', prom: 975, neutr: 38, detra: 26, status: 'Fechado' },
        { month: 'Mar', prom: 1412, neutr: 48, detra: 44, status: 'Fechado' },
        { month: 'Abr', prom: 1396, neutr: 62, detra: 47, status: 'Fechado' },
        { month: 'Mai', prom: 1243, neutr: 86, detra: 51, status: 'Fechado' },
        { month: 'Jun', prom: 1334, neutr: 61, detra: 28, status: 'Fechado' },
        { month: 'Jul', prom: 1018, neutr: 52, detra: 41, status: 'Fechado' } // Dados de Julho adicionados aqui
      ];

      const allMonths = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];

      const initialProjectionData = useMemo(() => {
        const lastFourMonths = initialCombinedData.filter(d => d.status === 'Fechado').slice(-4);
        const avgData = lastFourMonths.reduce((acc, curr) => {
          acc.prom += curr.prom;
          acc.neutr += curr.neutr;
          acc.detra += curr.detra;
          return acc;
        }, { prom: 0, neutr: 0, detra: 0 });

        const avgProm = lastFourMonths.length > 0 ? Math.round(avgData.prom / lastFourMonths.length) : 0;
        const avgNeutr = lastFourMonths.length > 0 ? Math.round(avgData.neutr / lastFourMonths.length) : 0;
        const avgDetra = lastFourMonths.length > 0 ? Math.round(avgData.detra / lastFourMonths.length) : 0;

        const fullData = [...initialCombinedData];
        for (let i = initialCombinedData.length; i < allMonths.length; i++) {
          fullData.push({
            month: allMonths[i],
            prom: avgProm,
            neutr: avgNeutr,
            detra: avgDetra,
            status: 'Projetado',
          });
        }
        return fullData;
      }, []);

      const [data, setData] = useState(initialProjectionData);
      const [totalNotas, setTotalNotas] = useState(1000);
      const [inverseResults, setInverseResults] = useState([]);
      const [annualGoalResult, setAnnualGoalResult] = useState(null);
      const [projectedTotalNotes, setProjectedTotalNotes] = useState(1000);

      const calculateNps = (promoters, detractors, total) => {
        if (total === 0) return 0;
        return parseFloat(((promoters - detractors) / total) * 100).toFixed(1);
      };

      const npsProjectionData = useMemo(() => {
        return data.map(monthData => {
          const totalVolume = monthData.prom + monthData.neutr + monthData.detra;
          const npsCx = calculateNps(monthData.prom, monthData.detra, totalVolume);
          return {
            ...monthData,
            totalVolume,
            npsCx
          };
        });
      }, [data]);

      const annualTotals = useMemo(() => {
        const totalProm = npsProjectionData.reduce((sum, d) => sum + d.prom, 0);
        const totalNeutr = npsProjectionData.reduce((sum, d) => sum + d.neutr, 0);
        const totalDetra = npsProjectionData.reduce((sum, d) => sum + d.detra, 0);
        const totalVolume = totalProm + totalNeutr + totalDetra;
        const annualNps = calculateNps(totalProm, totalDetra, totalVolume);
        return { totalProm, totalNeutr, totalDetra, totalVolume, annualNps };
      }, [npsProjectionData]);

      const neutralPerDetractor = useMemo(() => {
        const closedData = initialCombinedData.filter(d => d.status === 'Fechado');
        const totalNeutrosFechado = closedData.reduce((sum, d) => sum + d.neutr, 0);
        const totalDetratoresFechado = closedData.reduce((sum, d) => sum + d.detra, 0);
        return totalDetratoresFechado > 0 ? parseFloat(totalNeutrosFechado / totalDetratoresFechado).toFixed(1) : 0;
      }, []);

      const handleProjectionChange = (index, type, value) => {
        const newData = [...data];
        newData[index][type] = parseInt(value, 10) || 0;
        setData(newData);
      };

      const handleStatusChange = (index, newStatus) => {
        const newData = [...data];
        newData[index].status = newStatus;

        if (newStatus === 'Projetado') {
            const lastFourMonths = newData.slice(0, index).filter(d => d.status === 'Fechado').slice(-4);
            const avgData = lastFourMonths.reduce((acc, curr) => {
              acc.prom += curr.prom;
              acc.neutr += curr.neutr;
              acc.detra += curr.detra;
              return acc;
            }, { prom: 0, neutr: 0, detra: 0 });

            const avgProm = lastFourMonths.length > 0 ? Math.round(avgData.prom / lastFourMonths.length) : 0;
            const avgNeutr = lastFourMonths.length > 0 ? Math.round(avgData.neutr / lastFourMonths.length) : 0;
            const avgDetra = lastFourMonths.length > 0 ? Math.round(avgData.detra / lastFourMonths.length) : 0;

            newData[index].prom = avgProm;
            newData[index].neutr = avgNeutr;
            newData[index].detra = avgDetra;
        }
        setData(newData);
      };

      const handleInverseCalculation = () => {
        const targetNps = 95;
        const results = [];

        const closedData = data.filter(d => d.status === 'Fechado');
        const initialTotalNotes = closedData.reduce((sum, d) => sum + d.prom + d.neutr + d.detra, 0);
        const initialTotalNeutrals = closedData.reduce((sum, d) => sum + d.neutr, 0);
        const neutralRatio = initialTotalNotes > 0 ? initialTotalNeutrals / initialTotalNotes : 0;

        for (let i = 0; i < 12; i++) {
          const notes = totalNotas;
          const neutrals = Math.round(notes * neutralRatio);
          const equation1 = (targetNps / 100) * notes;
          const equation2 = notes - neutrals;
          const promoters = Math.round((equation1 + equation2) / 2);
          const detractors = Math.round((equation2 - equation1) / 2);

          results.push({
            month: allMonths[i],
            totalNotas: notes,
            promotores: promoters,
            detratores: detractors,
            neutros: neutrals,
            npsCalculado: calculateNps(promoters, detractors, notes),
          });
        }
        setInverseResults(results);
      };

      const handleAnnualGoalCalculation = () => {
        const monthsPast = data.filter(d => d.status === 'Fechado').length;
        const monthsToProject = allMonths.length - monthsPast;
        const annualTargetNps = 95;

        const pastMetrics = data.filter(d => d.status === 'Fechado').reduce((acc, curr) => {
          acc.totalVolume += curr.prom + curr.neutr + curr.detra;
          acc.totalPromoters += curr.prom;
          acc.totalNeutrals += curr.neutr;
          acc.totalDetractors += curr.detra;
          return acc;
        }, { totalVolume: 0, totalPromoters: 0, totalNeutrals: 0, totalDetractors: 0 });

        const projectedTotalAnnualVolume = pastMetrics.totalVolume + (monthsToProject * projectedTotalNotes);
        const currentNps = calculateNps(pastMetrics.totalPromoters, pastMetrics.totalDetractors, pastMetrics.totalVolume);
        const neutralRatio = pastMetrics.totalVolume > 0 ? pastMetrics.totalNeutrals / pastMetrics.totalVolume : 0;

        const targetPromotersDetractorsSum = projectedTotalAnnualVolume - (projectedTotalAnnualVolume * neutralRatio);
        const targetPromotersDetractorsDiff = (annualTargetNps / 100) * projectedTotalAnnualVolume;

        const totalPromotersNeeded = Math.round((targetPromotersDetractorsSum + targetPromotersDetractorsDiff) / 2);
        const totalDetractorsNeeded = Math.round((targetPromotersDetractorsSum - targetPromotersDetractorsDiff) / 2);
        const totalNeutralsNeeded = Math.round(projectedTotalAnnualVolume * neutralRatio);

        const remainingPromotersNeeded = totalPromotersNeeded - pastMetrics.totalPromoters;
        const remainingDetractorsNeeded = totalDetractorsNeeded - pastMetrics.totalDetractors;
        const remainingNeutralsNeeded = totalNeutralsNeeded - pastMetrics.totalNeutrals;

        let isAchievable = true;
        let maxNps = 0;

        if (remainingPromotersNeeded < 0 || remainingDetractorsNeeded < 0 || remainingNeutralsNeeded < 0 || monthsToProject <= 0) {
          isAchievable = false;
          const maxPossiblePromoters = pastMetrics.totalPromoters + (monthsToProject * (projectedTotalNotes - Math.round(projectedTotalNotes * neutralRatio)));
          const maxPossibleDetractors = pastMetrics.totalDetractors;
          maxNps = calculateNps(maxPossiblePromoters, maxPossibleDetractors, projectedTotalAnnualVolume);
        }

        setAnnualGoalResult({
          isAchievable,
          currentNps,
          projectedTotalAnnualVolume,
          targetNps: annualTargetNps,
          maxNps,
          monthlyPromoters: isAchievable && monthsToProject > 0 ? Math.round(remainingPromotersNeeded / monthsToProject) : 'N/A',
          monthlyDetractors: isAchievable && monthsToProject > 0 ? Math.round(remainingDetractorsNeeded / monthsToProject) : 'N/A',
          monthlyNeutrals: isAchievable && monthsToProject > 0 ? Math.round(remainingNeutralsNeeded / monthsToProject) : 'N/A',
        });
      };

      return (
        <div className="p-4 md:p-8 bg-gray-100 min-h-screen font-sans">
          <Card className="max-w-7xl mx-auto rounded-3xl shadow-2xl">
            <CardHeader className="bg-gradient-to-r from-red-600 to-red-900 text-white rounded-t-3xl p-10">
              <CardTitle className="text-5xl font-extrabold drop-shadow-lg">Simulador de NPS</CardTitle>
              <CardDescription className="text-red-100 text-lg font-light mt-2">
                Ferramenta interativa para simular cenários e calcular metas
              </CardDescription>
              {/* Frase de destaque adicionada aqui */}
              <p className="mt-4 text-xl md:text-2xl font-bold text-white drop-shadow-md">
                Se dá pra sonhar, dá pra fazer
              </p>
            </CardHeader>
            <CardContent className="p-6 md:p-10">
              <Tabs defaultValue="projection">
                <TabsList className="grid w-full grid-cols-2 mb-8">
                  <TabsTrigger value="projection">Projeção de NPS</TabsTrigger>
                  <TabsTrigger value="inverse">Cálculo Inverso (Meta NPS 95)</TabsTrigger>
                </TabsList>
                <TabsContent value="projection" className="mt-4">
                  <h3 className="text-2xl font-bold mb-4 text-gray-800">Projeção de NPS Consolidado</h3>
                  <p className="text-gray-600 mb-6">
                    Ajuste os volumes de promotores, detratores e neutros para a visão consolidada de todos os canais e veja a projeção do NPS.
                  </p>
                  <div className="overflow-x-auto mb-6 rounded-xl shadow-lg">
                    <table className="w-full text-left border-collapse">
                      <thead>
                        <tr className="bg-red-700 text-white font-bold text-base">
                          <th className="p-4 border-r rounded-tl-xl">Mês</th>
                          <th className="p-4 border-r">Status</th>
                          <th className="p-4 text-center">Promotores</th>
                          <th className="p-4 text-center">Neutros
                            <span className="block text-xs font-normal text-red-100 mt-1">
                              (1 Detrator ≈ {neutralPerDetractor} Neutros)
                            </span>
                          </th>
                          <th className="p-4 text-center">Detratores</th>
                          <th className="p-4 text-center">Vol. Total</th>
                          <th className="p-4 text-center rounded-tr-xl">NPS CX</th>
                        </tr>
                      </thead>
                      <tbody>
                        {npsProjectionData.map((monthData, index) => (
                          <tr key={index} className={`border-b border-gray-200 ${monthData.status === 'Projetado' ? 'bg-red-50 text-red-800 font-semibold' : 'hover:bg-gray-50'}`}>
                            <td className="p-4 font-medium border-r">{monthData.month}</td>
                            <td className="p-4 border-r text-sm text-center">
                              <select
                                value={monthData.status}
                                onChange={(e) => handleStatusChange(index, e.target.value)}
                                className={`block w-full rounded-md border border-gray-300 p-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500
                                ${monthData.status === 'Fechado' ? 'bg-gray-200 text-gray-600' : 'bg-white text-gray-900'}`}
                              >
                                <option value="Fechado">Fechado</option>
                                <option value="Projetado">Projetado</option>
                              </select>
                            </td>
                            <td className="p-4 text-center">
                              <Input
                                type="number"
                                value={monthData.prom}
                                onChange={(e) => handleProjectionChange(index, 'prom', e.target.value)}
                                className="w-full text-center"
                                disabled={monthData.status === 'Fechado'}
                              />
                            </td>
                            <td className="p-4 text-center">
                              <Input
                                type="number"
                                value={monthData.neutr}
                                onChange={(e) => handleProjectionChange(index, 'neutr', e.target.value)}
                                className="w-full text-center"
                                disabled={monthData.status === 'Fechado'}
                              />
                            </td>
                            <td className="p-4 text-center">
                              <Input
                                type="number"
                                value={monthData.detra}
                                onChange={(e) => handleProjectionChange(index, 'detra', e.target.value)}
                                className="w-full text-center"
                                disabled={monthData.status === 'Fechado'}
                              />
                            </td>
                            <td className="p-4 font-bold text-gray-600 text-center">{monthData.totalVolume}</td>
                            <td className="p-4 font-bold text-red-800 text-center">{monthData.npsCx}%</td>
                          </tr>
                        ))}
                        {/* Linha de Subtotal Anual */}
                        <tr className="bg-red-800 text-white font-bold text-lg rounded-b-xl">
                          <td className="p-4 rounded-bl-xl" colSpan="2">Subtotal Anual</td>
                          <td className="p-4 text-center">{annualTotals.totalProm}</td>
                          <td className="p-4 text-center">{annualTotals.totalNeutr}</td>
                          <td className="p-4 text-center">{annualTotals.totalDetra}</td>
                          <td className="p-4 text-center">{annualTotals.totalVolume}</td>
                          <td className="p-4 text-center rounded-br-xl">{annualTotals.annualNps}%</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <Card className="bg-blue-50 border-blue-200 mt-8">
                    <CardHeader>
                      <CardTitle className="text-2xl text-blue-800">Análise de Meta Anual (NPS 95)</CardTitle>
                      <CardDescription className="text-blue-700">
                        Com base no volume projetado, veja a distribuição necessária para atingir a meta de NPS 95 para o ano.
                      </CardDescription>
                    </CardHeader>
                    <CardContent>
                       <div className="flex flex-col md:flex-row items-end space-y-4 md:space-y-0 md:space-x-4 mb-4">
                        <div className="flex-grow w-full">
                          <Label htmlFor="projected-total-notes" className="text-base text-gray-700">Volume de Notas Projetado por Mês</Label>
                          <Input
                            id="projected-total-notes"
                            type="number"
                            value={projectedTotalNotes}
                            onChange={(e) => setProjectedTotalNotes(parseInt(e.target.value, 10) || 0)}
                            className="mt-2 text-center"
                          />
                        </div>
                        <Button onClick={handleAnnualGoalCalculation} className="bg-blue-600 hover:bg-blue-700 text-white shadow-lg w-full md:w-auto">
                          Calcular Meta Anual
                        </Button>
                      </div>
                      {annualGoalResult && (
                        <div className="mt-4">
                          <p className="text-xl font-bold text-blue-900">Resumo do Ano:</p>
                          <ul className="list-disc list-inside space-y-2 mt-2 text-gray-700">
                            <li>NPS Acumulado até o momento: <span className="font-bold text-blue-800">{annualGoalResult.currentNps}%</span></li>
                            <li>Volume Total Anual Projetado: <span className="font-bold">{annualGoalResult.projectedTotalAnnualVolume}</span> notas</li>
                          </ul>
                          {annualGoalResult.isAchievable ? (
                            <div className="mt-4 p-6 rounded-lg bg-green-100 text-green-800 border border-green-300">
                              <p className="font-extrabold text-xl">🎉 A meta anual de NPS 95% é alcançável!</p>
                              <p className="mt-2">Para alcançar a meta, a distribuição mensal necessária é:</p>
                              <ul className="mt-2 list-disc list-inside font-semibold">
                                <li>Promotores por Mês: <span className="font-extrabold text-green-900">{annualGoalResult.monthlyPromoters}</span></li>
                                <li>Neutros por Mês: <span className="font-extrabold text-green-900">{annualGoalResult.monthlyNeutrals}</span></li>
                                <li>Detratores por Mês: <span className="font-extrabold text-green-900">{annualGoalResult.monthlyDetractors}</span></li>
                              </ul>
                            </div>
                          ) : (
                            <div className="mt-4 p-6 rounded-lg bg-red-100 text-red-800 border border-red-300">
                              <p className="font-extrabold text-xl">⚠️ Aviso: A meta anual de NPS 95% é inatingível.</p>
                              <p className="mt-2">O NPS máximo que você pode atingir com o volume de notas projetado é: <span className="font-extrabold text-red-900">{annualGoalResult.maxNps}%</span>.</p>
                            </div>
                          )}
                        </div>
                      )}
                    </CardContent>
                  </Card>

                  <Card className="bg-red-50 border-red-200 mt-8">
                    <CardHeader>
                      <CardTitle className="text-2xl text-red-800">Gráfico de Projeção do NPS</CardTitle>
                    </CardHeader>
                    <CardContent>
                      <ResponsiveContainer width="100%" height={300}>
                        <LineChart data={npsProjectionData} margin={{ top: 5, right: 20, left: -20, bottom: 5 }}>
                          <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
                          <XAxis dataKey="month" />
                          <YAxis domain={[0, 100]} />
                          <Tooltip />
                          <Legend />
                          <Line type="monotone" dataKey="npsCx" name="NPS Projetado" stroke="#a51f38" strokeWidth={3} activeDot={{ r: 8 }} animationDuration={1500} />
                        </LineChart>
                      </ResponsiveContainer>
                      <div className="mt-4 text-center p-4 bg-gray-100 rounded-lg">
                        <p className="text-2xl font-bold text-gray-800">
                          NPS Anual Projetado: <span className="text-red-800">{annualTotals.annualNps}%</span>
                        </p>
                      </div>
                    </CardContent>
                  </Card>
                </TabsContent>
                <TabsContent value="inverse" className="mt-4">
                  <h3 className="text-2xl font-bold mb-4 text-gray-800">Cálculo Inverso (Meta de NPS 95)</h3>
                  <p className="text-gray-600 mb-6">
                    Informe o volume total de notas que você espera obter por mês para ver a distribuição necessária para alcançar um NPS de 95.
                  </p>
                  <div className="flex flex-col md:flex-row items-end space-y-4 md:space-y-0 md:space-x-4 mb-6 p-6 bg-gray-50 border rounded-lg shadow-inner">
                    <div className="flex-grow w-full">
                      <Label htmlFor="total-notas" className="text-base text-gray-700">Volume Total de Notas por Mês</Label>
                      <Input
                        id="total-notas"
                        type="number"
                        value={totalNotas}
                        onChange={(e) => setTotalNotas(parseInt(e.target.value, 10) || 0)}
                        className="mt-2 text-center"
                      />
                    </div>
                    <Button onClick={handleInverseCalculation} className="bg-green-600 hover:bg-green-700 text-white shadow-lg w-full md:w-auto">
                      Calcular Meta Mensal
                    </Button>
                  </div>
                  {inverseResults.length > 0 && (
                    <Card className="bg-green-50 border-green-200">
                      <CardHeader>
                        <CardTitle className="text-2xl text-green-800">Resultados para a Meta de NPS 95</CardTitle>
                        <CardDescription className="text-green-700">
                          A meta é um NPS de 95. Os valores abaixo indicam a distribuição necessária de feedback.
                        </CardDescription>
                      </CardHeader>
                      <CardContent>
                        <div className="overflow-x-auto rounded-xl shadow-lg">
                          <table className="w-full text-left border-collapse">
                            <thead>
                              <tr className="bg-green-600 text-white font-bold text-base">
                                <th className="p-4 rounded-tl-xl">Mês</th>
                                <th className="p-4 text-center">Total Notas</th>
                                <th className="p-4 text-center">Promotores</th>
                                <th className="p-4 text-center">Detratores</th>
                                <th className="p-4 text-center">Neutros</th>
                                <th className="p-4 text-center rounded-tr-xl">NPS Calculado</th>
                              </tr>
                            </thead>
                            <tbody>
                              {inverseResults.map((result, index) => (
                                <tr key={index} className="border-b border-gray-200 hover:bg-green-100">
                                  <td className="p-4 font-medium">{result.month}</td>
                                  <td className="p-4 text-center">{result.totalNotas}</td>
                                  <td className="p-4 text-center">{result.promotores}</td>
                                  <td className="p-4 text-center">{result.detratores}</td>
                                  <td className="p-4 text-center">{result.neutros}</td>
                                  <td className="p-4 font-bold text-center text-green-800">{result.npsCalculado}%</td>
                                </tr>
                              ))}
                            </tbody>
                          </table>
                        </div>
                      </CardContent>
                    </Card>
                  )}
                </TabsContent>
              </Tabs>
            </CardContent>
          </Card>
          {/* INFORMATIVO DE CRÉDITO ADICIONADO */}
          <footer className="text-center mt-8 pb-4">
            <p className="text-sm text-gray-500">
              Desenvolvido por Adriana Paiva
            </p>
          </footer>
        </div>
      );
    };

    const rootElement = document.getElementById('root');
    if (rootElement) {
        const root = createRoot(rootElement);
        root.render(<App />);
    }
  </script>
</body>
</html>
